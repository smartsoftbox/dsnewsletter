import{A as e,B as t,a,r as o,u as n,m as l,J as s,b as c,L as r,R as m,E as u,P as i,S as d,c as p,d as y,e as g,f as E}from"./vendor.js";const b=["Arial","Tahoma","Verdana","Times New Roman","Courier New","Georgia","Lato","Montserrat","黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑"].map((e=>({value:e,label:e}))),f=[{label:"Content",active:!0,blocks:[{type:e.TEXT},{type:e.IMAGE,payload:{attributes:{padding:"0px 0px 0px 0px"}}},{type:e.BUTTON},{type:e.SOCIAL},{type:e.DIVIDER},{type:e.SPACER},{type:e.HERO},{type:e.WRAPPER}]},{label:"Layout",active:!0,displayType:"column",blocks:[{title:"2 columns",payload:[["50%","50%"],["33%","67%"],["67%","33%"],["25%","75%"],["75%","25%"]]},{title:"3 columns",payload:[["33.33%","33.33%","33.33%"],["25%","25%","50%"],["50%","25%","25%"]]},{title:"4 columns",payload:[[["25%","25%","25%","25%"]]]}]}],v=t.getBlockByType(a.PAGE);function x(){let e,t=document.getElementsByName("design")[0].value;if(t){const a=JSON.parse(t);e=a}else e=v.create({data:{value:{"content-background-color":"#ffffff"}}});const[a,E]=o.exports.useState(e.content),x=o.exports.useMemo((()=>({subject:t?e.subject:"Example subject",subTitle:t?e.subTitle:"Example sub title!",content:a})),[a]),{width:h}=n(),S=h<1400,T=o.exports.useCallback((async(e,t)=>{console.log("values",e),console.log("form",t);const a=l(s({data:e.content,mode:"production",context:e.content}),{beautify:!0,validationLevel:"soft"}).html;document.getElementsByName("html")[0].value=a,document.getElementsByName("design")[0].value=JSON.stringify(e),c.success("Saved success!")}),[]);if(!x)return null;const[w,C]=o.exports.useState({user:{first_name:"Ryan",last_name:"Jones"},shop:{name:"My Shop",logo:"logo",url:"url"}});return o.exports.useCallback((async(e,t)=>{const a=new r,o=a.parse(e);return console.log("mergeTags",t),await a.renderSync(o,t)}),[]),m.createElement("div",null,m.createElement(u,{dashed:!1,data:x,height:"calc(100vh - 85px)",onUploadImage:async e=>{let t=new FormData;t.append("file",e);let a=window.location.href+"&ajax=1&action=uploadImage";const o=await fetch(a,{method:"POST",body:t});return(await o.json()).url},autoComplete:!0,enabledLogic:!0,fontList:b,onSubmit:T,mergeTags:w,mergeTagGenerate:e=>`{{${e}}}`},(({values:e},{submit:t})=>m.createElement(m.Fragment,null,m.createElement(i,{title:"Edit",extra:m.createElement(d,{alignment:"center"},m.createElement(p,{id:"addEasyEmail",type:"primary",onClick:()=>t()},"Save"))}),m.createElement(y,{compact:!S,categories:f,showSourceCode:!0},m.createElement(g,null))))))}E.render(m.createElement(x,null),document.getElementById("root"));
