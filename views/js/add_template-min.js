/**
 *  @author Marcin Kubiak
 *  @copyright  Smart Soft
 *  @license    Commercial license
 *  International Registered Trademark & Property of Smart Soft
 */

function setTooltip(e,t){$(e).tooltip("hide").attr("data-original-title",t).tooltip("show")}function hideTooltip(e){setTimeout(function(){$(e).tooltip("hide")},300)}function hasClass(e,t){return e.className.split(" ").indexOf(t)>-1}function resizeIframe(e){e.style.height=e.contentWindow.document.documentElement.scrollHeight+"px"}function getProductTags(e,t){let n="",o=["{product_"+e+"_"+t+"_name}","{product_"+e+"_"+t+"_desc_200}","{product_"+e+"_"+t+"_link}",placeholder+"{product_"+e+"_"+t+"_image}"];for(let e=0;e<o.length;e++)n+='<a class="btn-tag btn btn-default" data-clipboard-text="'+o[e]+'">'+o[e]+"</a>";return n}function getMessageToFullScreen(){let e=document.getElementsByClassName("module_confirmation")[0],t=document.getElementsByClassName("module_error")[0],n=document.getElementsByClassName("panel-heading")[0];e&&n.parentNode.insertBefore(e,n.nextSibling),t&&n.parentNode.insertBefore(t,n.nextSibling)}$(function(){var e=1,t=1;document.getElementById("generate_new_tags").addEventListener("click",function(){let t=getProductTags("new",e);document.getElementById("tags").innerHTML+="<div>"+t+"</div>",e++}),document.getElementById("generate_featured_tags").addEventListener("click",function(){let e=getProductTags("featured",t);document.getElementById("tags").innerHTML+="<div>"+e+"</div>",t++}),getMessageToFullScreen();let n=document.getElementById("dstemplate_form");n.length&&n.classList.add("fullscreen");let o=document.getElementsByClassName("mail-html-frame");if(o.length){let e=o[0].innerHTML;o[0].innerHTML="",document.querySelector('a[href="#view-html"]').click(),o[0].innerHTML='<iframe frameborder="0" scrolling="no" class="email-frame" />';let t=o[0].getElementsByTagName("iframe")[0],n=t.contentWindow.document;n.open(),n.write(e),n.close(),resizeIframe(t),document.querySelector('a[href="#editor"]').click();let r=document.getElementById("my-nav-pills");r.closest(".form-group").querySelector("label").remove(),r.closest(".form-group").querySelector("div").className=""}document.addEventListener("click",function(e){if(hasClass(e.target,"btn-tag")){var t=new Clipboard(e.target);t.on("success",function(e){setTooltip(e.trigger,"Copied!"),hideTooltip(e.trigger),e.trigger.setAttribute("data-original-title","")}),t.on("error",function(e){setTooltip(e.trigger,"Press Ctrl+C to copy"),hideTooltip(e.trigger),e.trigger.setAttribute("data-original-title","")}),e.target.classList.remove("btn-tag"),e.target.click()}},!1),document.getElementsByTagName("body")[0].style.opacity="1"});